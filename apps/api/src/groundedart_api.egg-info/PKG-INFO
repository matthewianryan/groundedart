Metadata-Version: 2.4
Name: groundedart-api
Version: 0.1.0
Summary: Grounded Art core API (FastAPI).
Requires-Python: >=3.11
Description-Content-Type: text/markdown
Requires-Dist: alembic>=1.13.0
Requires-Dist: asyncpg>=0.29.0
Requires-Dist: fastapi>=0.115.0
Requires-Dist: geoalchemy2>=0.15.0
Requires-Dist: psycopg[binary]>=3.1.18
Requires-Dist: pydantic-settings>=2.2.1
Requires-Dist: python-multipart>=0.0.9
Requires-Dist: sqlalchemy[asyncio]>=2.0.30
Requires-Dist: uvicorn[standard]>=0.30.0
Provides-Extra: dev
Requires-Dist: httpx>=0.27.0; extra == "dev"
Requires-Dist: pytest>=8.0.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.23.0; extra == "dev"
Requires-Dist: ruff>=0.6.0; extra == "dev"

# `apps/api`

Core API service.

Responsibilities:
- Authoritative geofence verification and short-lived check-in tokens
- Capture record creation and verification state transitions
- Rank computation (or rank event ingestion) and feature gating
- Signed media access (scoped URLs) and abuse protections (rate limits/audit)

Notes:
- Media scoring/similarity is often best as async jobs; it can live here initially but should be separable as a worker.

## Local development

Prereqs:
- Python 3.11
- Docker (for Postgres/PostGIS)

Start the database:
- `docker compose -f infra/docker-compose.yml up -d db`

Install the API (from repo root):
- `python3.11 -m venv .venv311` (first time)
- `source .venv311/bin/activate`
- `pip install -e "apps/api[dev]"`

Run migrations + seed a starter node:
- `cd apps/api && alembic upgrade head`
- `python apps/api/scripts/seed_nodes.py`

Run the API:
- `uvicorn groundedart_api.main:app --reload --port 8000`
